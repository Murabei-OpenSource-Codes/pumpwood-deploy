apiVersion: apps/v1
kind: Deployment
metadata:
  name: pumpwood-frontend
spec:
  replicas: 1
  template:
    metadata:
      labels:
        type: pumpwood-frontend
        function: frontend
    spec:
      imagePullSecrets:
        - name: dockercfg
      containers:
      - name: pumpwood-auth
        image: {repository}/pumpwood-frontend-angular2:{version}
        imagePullPolicy: Always
        env:
        - name: API_URL_REST
          value: 'https://{gateway_public_ip}/rest/'
        - name: API_URL_GUI
          value: 'https://{gateway_public_ip}/gui/'
        ports:
        - containerPort: 80
